<?xml version="1.0" encoding="windows-1250"?>
<project name="UEFA - Player Rater - Create Package">
	<!-- Parameters -->
	<workingDirectory>c:\SVN_Working_Directory\UEFA\PlayerRater_Production</workingDirectory>
	<artifactDirectory>c:\CCNet_Artefacts_Directory\UEFA\PlayerRater_Production</artifactDirectory>
	<webURL>http://vmp-ccnet.fcuk.local/server/local/project/UEFA%20-%20Player%20Rater%20-%20Create%20Package/ViewProjectReport.aspx</webURL>
	<category>Package</category>
	
	<labeller type="assemblyVersionLabeller">
		<major>1</major>
		<minor>1</minor>
		<build>0</build>
		<incrementOnFailure>false</incrementOnFailure>
	</labeller>
  
	<!--publishers>
		<rss items="50" />
		<merge>
			<files>
				<file>c:\CCNet_Artefacts_Directory\UEFA\PlayerRater_Production\FxCopReport.xml</file>
			</files>
		</merge>
		<xmllogger logDir="buildlogs" />
		<artifactcleanup cleanUpMethod="KeepLastXBuilds" cleanUpValue="5" />
	</publishers-->
  
	<sourcecontrol type="svn">
		<trunkUrl>svn://vm-svn.fcdev.local/uefa/PlayerRater/trunk</trunkUrl>
		<username>dev.tools</username>
		<password>KL129377</password>
		<executable>C:\Program Files\CollabNet\Subversion Client\svn.exe</executable>
		<cleanUp>true</cleanUp>
		<tagOnSuccess>true</tagOnSuccess>
		<tagBaseUrl>svn://vm-svn.fcdev.local/uefa/PlayerRater/tags</tagBaseUrl>
	</sourcecontrol>
  
	<tasks>
		<!-- Create AssemblyInfo -->
		<msbuild>
			<executable>C:\WINDOWS\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe</executable>
			<projectFile>SolutionFiles\GenerateAssemblyInfo.proj</projectFile>
			<buildArgs>/noconsolelogger /v:diag</buildArgs>
			<targets>CreateAssemblyInfo</targets>
			<timeout>900</timeout>
			<logger>C:\Program Files (x86)\CruiseControl.NET\server\ThoughtWorks.CruiseControl.MSBuild.dll</logger>
		</msbuild>
		
		<!-- Create package in Production configuration -->
		<msbuild>
			<executable>C:\WINDOWS\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe</executable>
			<projectFile>UEFA.PlayerRater.Web\Uefa.PlayerRater.Web.csproj</projectFile>
			  <dynamicValues>
				<replacementValue property="buildArgs">
				  <format>/noconsolelogger /v:diag /p:ReferencePath="C:\SVN_Working_Directory\UEFA\PlayerRater_Production\References" /t:Package /p:PackageLocation="C:\BuildPackages\UEFA\{0}\UEFA.PlayerRater.Web.PROD1-{0}.zip" /p:Configuration=Production</format>
				  <parameters>
					<namedValue name="$CCNetLabel" value="Default" />
				  </parameters>
				</replacementValue>
			  </dynamicValues>
			<targets>Package</targets>
			<timeout>900</timeout>
			<logger>C:\Program Files (x86)\CruiseControl.NET\server\ThoughtWorks.CruiseControl.MSBuild.dll</logger>
		</msbuild>
		
	 </tasks>
</project>
