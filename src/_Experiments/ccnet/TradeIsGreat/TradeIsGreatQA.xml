<?xml version="1.0" encoding="windows-1250"?>
<project name="TradeIsGreatQA">
	<!-- Parameters -->
	<workingDirectory>c:\SVN_Working_Directory\TradeIsGreat\TradeIsGreatQA</workingDirectory>
	<artifactDirectory>c:\CCNet_Artefacts_Directory\TradeIsGreat\TradeIsGreatQA</artifactDirectory>
	<webURL>http://vmp-ccnet.fcuk.local/server/local/project/TradeIsGreatQA/ViewProjectReport.aspx</webURL>
	
	<labeller type="assemblyVersionLabeller">
		<major>1</major>
		<minor>0</minor>
		<incrementOnFailure>false</incrementOnFailure>
	</labeller>
  
	<publishers>
		<rss items="50" />
		<merge>
			<files>
				<file>c:\CCNet_Artefacts_Directory\TradeIsGreat\TradeIsGreatQA\FxCopReport.xml</file>
			</files>
		</merge>
		<xmllogger logDir="buildlogs" />
		<artifactcleanup cleanUpMethod="KeepLastXBuilds" cleanUpValue="5" />
	</publishers>
  
	<sourcecontrol type="svn">
		<trunkUrl>svn://vm-svn.fcdev.local/TradeIsGreat/trunk</trunkUrl>
		<username>dev.tools</username>
		<password>KL129377</password>
		<executable>C:\Program Files\TortoiseSVN\bin\svn.exe</executable>
		<cleanUp>true</cleanUp>
	</sourcecontrol>
  
	<tasks>
    <!-- build web application -->
      <msbuild>
        <executable>C:\WINDOWS\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe</executable>
		<workingDirectory>c:\SVN_Working_Directory\TradeIsGreat\TradeIsGreatQA</workingDirectory>
        <projectFile>TradeIsGreat.sln</projectFile>
        <buildArgs>/noconsolelogger /v:diag /p:ReferencePath="c:\SVN_Working_Directory\TradeIsGreat\TradeIsGreatQA\References" /p:Configuration=QA</buildArgs>
        <targets>Build</targets>
        <timeout>900</timeout>
        <logger>C:\Program Files (x86)\CruiseControl.NET\server\ThoughtWorks.CruiseControl.MSBuild.dll</logger>
      </msbuild>
		
		<!-- Create Local BuildPackage directory -->
		<exec>
			<executable>cmd.exe</executable>
			<buildArgs>/c "if exist c:\SVN_Working_Directory\TradeIsGreat\TradeIsGreatQA\Package del c:\SVN_Working_Directory\TradeIsGreat\TradeIsGreatQA\Package\*.* /Q /F"</buildArgs>
		</exec>
		
		<!-- Create package in test configuration -->
		<msbuild>
			<executable>C:\WINDOWS\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe</executable>
			<projectFile>TradeIsGreat.csproj</projectFile>
			<buildArgs>/noconsolelogger /v:diag /p:ReferencePath="c:\SVN_Working_Directory\TradeIsGreat\TradeIsGreatQA\References" /t:Package /p:PackageLocation="c:\SVN_Working_Directory\TradeIsGreat\TradeIsGreatQA\Package\TradeIsGreat.zip" /p:Configuration=QA /p:ProjectParametersXMLFile="c:\SVN_Working_Directory\TradeIsGreat\TradeIsGreatQA\Parameters.xml"</buildArgs>
			<targets>Package</targets>
			<timeout>900</timeout>
			<logger>C:\Program Files (x86)\CruiseControl.NET\server\ThoughtWorks.CruiseControl.MSBuild.dll</logger>
		</msbuild>
		
 
		<!-- deploy the test package to vm-ricmont-web1.fcdev.local --> 
		<exec>
			<executable>C:\SVN_Working_Directory\TradeIsGreat\TradeIsGreatQA\Package\TradeIsGreat.deploy.cmd</executable>
			<buildArgs>/y /m:vmp-trade.fcuk.local</buildArgs>
			<buildTimeoutSeconds>6000</buildTimeoutSeconds>
		</exec>

	 </tasks>
</project>
